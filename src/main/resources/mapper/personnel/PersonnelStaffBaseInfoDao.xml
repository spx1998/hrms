<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hrms.personnel.dao.PersonnelStaffBaseInfoDao">

    <resultMap type="com.hrms.personnel.entity.StaffBaseInfo" id="StaffBaseInfoMap">
        <result property="staffId" column="staff_id" jdbcType="VARCHAR"/>
        <result property="name" column="name" jdbcType="VARCHAR"/>
        <result property="sex" column="sex" jdbcType="INTEGER"/>
        <result property="birthday" column="birthday" jdbcType="TIMESTAMP"/>
        <result property="phoneNumber" column="phone_number" jdbcType="VARCHAR"/>
        <result property="email" column="email" jdbcType="VARCHAR"/>
        <result property="address" column="address" jdbcType="VARCHAR"/>
        <result property="createBy" column="create_by" jdbcType="VARCHAR"/>
        <result property="createDate" column="create_date" jdbcType="TIMESTAMP"/>
    </resultMap>
    <insert id="createStaffInfo">
        insert into staff_base_info(staff_id, name, sex, birthday, phone_number, email, address)
        values (#{staffCreateInfo.staffId}, #{staffCreateInfo.name}, #{staffCreateInfo.sex},
                #{staffCreateInfo.birthday}, #{staffCreateInfo.phoneNumber}, #{staffCreateInfo.email},
                #{staffCreateInfo.address});
    </insert>
    <delete id="deleteStaffInfo">
        delete
        from staff_base_info
        where staff_id = #{staffId}
    </delete>
    <select id="getStaffList" resultMap="StaffBaseInfoMap">
        select *
        from staff_base_info
        where status = 'enable';
    </select>
    <select id="getStaffById" resultMap="StaffBaseInfoMap">
        select *
        from staff_base_info
        where staff_id = #{staffId}
    </select>
    <select id="getPendingList" resultMap="StaffBaseInfoMap">
        select *
        from staff_base_info
        where status = 'create'
    </select>

</mapper>